<div class="main-layout" *ngIf="!isLoading">
  <!-- Restructured with fixed left sidebar and right panel containing resume-list and dashboard -->
  <aside class="left-panel">
    <app-sidebar 
      [jobs]="jobs" 
      [selectedJobId]="selectedJob?.id"
      (onSelectJob)="onJobSelected($event)"
      (onAddJob)="openFirstJobModal()"
      (onDeleteJob)="deleteJob($event)">
    </app-sidebar>
  </aside>

  <div class="right-panel">
    <section class="candidates-section">
      <app-resume-list 
        [resumes]="resumes" 
        [selectedResumeId]="selectedResume?.id" 
        (onUploadResumes)="handleBatchUpload($event)" 
        (onSearch)="onSearch($event)" 
        (onSelectResume)="fetchResumeDetails($event)"
        (onDelete)="deleteResume($event)">
      </app-resume-list>
    </section>

    <main class="details-section">
      <app-dashboard 
        [resume]="selectedResume" 
        (onViewPdf)="openPdfViewer($event)" 
        (onDelete)="deleteResume($event)">
      </app-dashboard>
    </main>
  </div>
</div>
