<div class="candidates-container">
  <div class="candidates-header">
    <div class="header-top">
      <h2>Candidates <span class="count">({{ resumes.length }})</span></h2>
      <input 
        type="file" 
        #fileInput 
        multiple 
        (change)="onUpload($event)" 
        style="display:none"
        accept=".pdf,.doc,.docx">
      <button class="upload-btn" (click)="fileInput.click()" title="Upload Resumes">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
      </button>
    </div>
    
    <div class="search-container">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input 
        type="text" 
        class="search-input"
        placeholder="Search candidates..." 
        [(ngModel)]="searchQuery" 
        (input)="onSearch.emit(searchQuery)">
    </div>
  </div>

  <div class="candidates-list">
    <div 
      *ngFor="let resume of resumes" 
      class="candidate-item"
      [class.active]="selectedResumeId === resume.id"
      (click)="onSelectResume.emit(resume.id)">
      
      <div class="candidate-score" [style.background]="getScoreColor(resume.fitPercentage)">
        {{ resume.fitPercentage }}%
      </div>
      
      <div class="candidate-info">
        <h3>{{ resume.candidateName }}</h3>
        <p class="candidate-file">{{ resume.fileName }}</p>
      </div>
      
      <button 
        class="delete-btn"
        (click)="$event.stopPropagation(); onDelete.emit(resume.id)"
        title="Delete candidate">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          <line x1="10" y1="11" x2="10" y2="17"></line>
          <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
      </button>
    </div>
    
    <div *ngIf="resumes.length === 0" class="empty-state">
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <p>No candidates found for this project</p>
    </div>
  </div>
</div>
